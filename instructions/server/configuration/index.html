



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentaion for taxi app installation">
      
      
      
        <meta name="author" content="Artak">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>Configuration - Taxi App Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="amber">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#configuration" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="Taxi App Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Taxi App Documentation
              </span>
              <span class="md-header-nav__topic">
                Configuration
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../index.html" title="Introduction" class="md-tabs__link">
        Introduction
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../node/index.html" title="Install server" class="md-tabs__link md-tabs__link--active">
          Install server
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../client/auth/index.html" title="Install client" class="md-tabs__link">
          Install client
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dashboard/polymer/index.html" title="Install dashboard" class="md-tabs__link">
          Install dashboard
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../faq/index.html" title="FAQ" class="md-tabs__link">
          FAQ
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Taxi App Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Install server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Install server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../node/index.html" title="Install Node.js" class="md-nav__link">
      Install Node.js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../redis/index.html" title="Install Redis" class="md-nav__link">
      Install Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mariadb/index.html" title="Install MariaDB" class="md-nav__link">
      Install MariaDB
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Configuration
      </label>
    
    <a href="index.html" title="Configuration" class="md-nav__link md-nav__link--active">
      Configuration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#important-parameters" title="Important Parameters" class="md-nav__link">
    Important Parameters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_password-important" title="SQL_PASSWORD (Important)" class="md-nav__link">
    SQL_PASSWORD (Important)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google_maps_api_key-important" title="GOOGLE_MAPS_API_KEY (Important)" class="md-nav__link">
    GOOGLE_MAPS_API_KEY (Important)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-database-schema" title="Importing database schema" class="md-nav__link">
    Importing database schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-service" title="Starting service" class="md-nav__link">
    Starting service
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Install client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../client/auth/index.html" title="Firebase Auth" class="md-nav__link">
      Firebase Auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../client/maps/index.html" title="Google Maps" class="md-nav__link">
      Google Maps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../client/config/index.html" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../client/translation/index.html" title="Translation" class="md-nav__link">
      Translation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Install dashboard
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Install dashboard
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dashboard/polymer/index.html" title="Install polymer" class="md-nav__link">
      Install polymer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dashboard/translation/index.html" title="Translation" class="md-nav__link">
      Translation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../faq/index.html" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#important-parameters" title="Important Parameters" class="md-nav__link">
    Important Parameters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_password-important" title="SQL_PASSWORD (Important)" class="md-nav__link">
    SQL_PASSWORD (Important)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google_maps_api_key-important" title="GOOGLE_MAPS_API_KEY (Important)" class="md-nav__link">
    GOOGLE_MAPS_API_KEY (Important)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-database-schema" title="Importing database schema" class="md-nav__link">
    Importing database schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-service" title="Starting service" class="md-nav__link">
    Starting service
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="configuration">Configuration</h1>
<p>Looking into server folder you will find a file named <code>.env</code> which is the only file you need to change in this folder.
This file looks like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">NODE_ENV</span><span class="o">=</span>prod
<span class="nv">MAIN_PORT</span><span class="o">=</span><span class="m">8080</span>
<span class="nv">SQL_HOST</span><span class="o">=</span>localhost
<span class="nv">SQL_USER</span><span class="o">=</span>root
<span class="nv">SQL_PASSWORD</span><span class="o">=</span>
<span class="nv">SQL_DATABASE</span><span class="o">=</span>taxi
<span class="nv">REDIS_PORT</span><span class="o">=</span><span class="m">6379</span>
<span class="nv">REDIS_HOST</span><span class="o">=</span>localhost
<span class="nv">REDIS_PASSWORD</span><span class="o">=</span>
<span class="nv">GOOGLE_MAPS_API_KEY</span><span class="o">=</span>
<span class="nv">STRIPE_SECRET_KEY</span><span class="o">=</span>
<span class="nv">PAYMENT_CURRENCY</span><span class="o">=</span>usd
<span class="nv">JWT_SECRET</span><span class="o">=</span>fdsfdsfdsfdsf
<span class="nv">MAX_DRIVERS_SEND_REQUEST</span><span class="o">=</span><span class="m">10</span>
<span class="nv">MAX_DISTANCE_TO_SEND_REQUEST</span><span class="o">=</span><span class="m">10000</span>
<span class="nv">MINIMUM_AMOUNT_TO_REQUEST_PAYMENT</span><span class="o">=</span><span class="m">50</span>
<span class="nv">PERCENT_FOR_COMPANY</span><span class="o">=</span><span class="m">30</span>
<span class="nv">CASH_PAYMENT_REDUCES_DRIVER_CREDIT</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">DRIVER_MIN_VERSION_IOS</span><span class="o">=</span><span class="m">1</span>
<span class="nv">RIDER_MIN_VERSION_IOS</span><span class="o">=</span><span class="m">1</span>
<span class="nv">DRIVER_MIN_VERSION_ANDROID</span><span class="o">=</span><span class="m">3</span>
<span class="nv">RIDER_MIN_VERSION_ANDROID</span><span class="o">=</span><span class="m">3</span>
<span class="nv">TEST_MODE</span><span class="o">=</span><span class="nb">false</span>
</pre></div>
</td></tr></table>

<p>If you want to know what each one of these do i will explain some of them in following sections but first let's fill the mandatory ones to fill.</p>
<h2 id="important-parameters">Important Parameters</h2>
<h3 id="sql_password-important">SQL_PASSWORD (Important)</h3>
<p>In previous section when installing mariaDB you have set a password for your root user in mysql_secure_installation process. Enter it here.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To make the system more secure you can create a user and limit access of that user to the taxi database. But this will need you to have some knowledge in handling sql. As it is a little bit hard it will be leaved to user to do so if wanted too. <code>SQL_USER</code>, <code>SQL_DATABASE</code>, <code>SQL_PASSWORD</code> arguments help you to even connect to a remote secure database. Choice is up to you.</p>
</div>
<h3 id="google_maps_api_key-important">GOOGLE_MAPS_API_KEY (Important)</h3>
<p>For some of geographical functions Google maps has been used. The proccess of retrieving the API key from google maps dashboard has been explained in client section. You can leave this for now and remember to insert the retrieved key here.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Changing this will logout all your users from system and they would have to login again.</p>
</div>
<h2 id="importing-database-schema">Importing database schema</h2>
<p>You can do the database migration proccess easily using db-migrate which we have installed before. Do so using following commands:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>db-migrate db:create taxi
db-migrate up
</pre></div>
</td></tr></table>

<h2 id="starting-service">Starting service</h2>
<p>Now you can start server app using this command:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>pm2 start server.js --name server --watch <span class="p">&amp;</span>
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After each reboot you will need to enter this command again to start server application.</p>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mariadb/index.html" title="Install MariaDB" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Install MariaDB
              </span>
            </div>
          </a>
        
        
          <a href="../../client/auth/index.html" title="Firebase Auth" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Firebase Auth
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 - 2019 Minimalistic Apps
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>